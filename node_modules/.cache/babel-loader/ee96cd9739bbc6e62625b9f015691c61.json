{"ast":null,"code":"import _slicedToArray from\"/home/coder-kabir/Documents/GitHub/Vemshala/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Spin}from\"antd\";import React,{useEffect,useState}from\"react\";import{Helmet}from\"react-helmet\";import{connect}from\"react-redux\";import{Redirect}from\"react-router-dom\";/* CUSTOM COMPONENTS */import ProductList from\"../../component/ProductList/ProductList\";import SubCategory from\"../../component/SubCategory/SubCategory\";import{GlobleBox,Wrapper}from\"../../component/Xcomponent\";import{BannerContainer,SubCatsBox,SubCatsWrapper}from\"./CategoryPageStyle\";/* ACTIONS */import{getCategoryDetails as _getCategoryDetails,getCategoryDetailsReset as _getCategoryDetailsReset}from\"../../action/getCategoryDetailsAction\";/* OTHERS */import cnf from\"../../config\";var CategoryPage=function CategoryPage(props){/* VARIABLES */var category_url_key=props.match.params.category;var _useState=useState([false,\"\"]),_useState2=_slicedToArray(_useState,2),redirect=_useState2[0],setRedirect=_useState2[1];var getCategoryDetails=props.getCategoryDetails,getCategoryDetailsReset=props.getCategoryDetailsReset,getCategoryDetailsState=props.getCategoryDetailsState;/* CALLBACKS */useEffect(function(){getCategoryDetails({category_url_key:category_url_key});document.documentElement.scrollTop=0;},[category_url_key]);useEffect(function(){if(getCategoryDetailsState.apiState===\"error\"){// setRedirect([true, \"/\"])\n}},[getCategoryDetailsState]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Helmet,null,/*#__PURE__*/React.createElement(\"title\",null,getCategoryDetailsState.category.name),/*#__PURE__*/React.createElement(\"meta\",{name:\"og:title\",property:\"og:title\",content:getCategoryDetailsState.category.name})),redirect[0]&&/*#__PURE__*/React.createElement(Redirect,{to:redirect[1]}),getCategoryDetailsState.apiState===\"loading\"&&/*#__PURE__*/React.createElement(\"div\",{style:{minHeight:500,display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}},/*#__PURE__*/React.createElement(Spin,{size:\"large\"})),getCategoryDetailsState.apiState===\"success\"&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(BannerContainer,null,/*#__PURE__*/React.createElement(\"img\",{src:\"\".concat(cnf.s3_base_url).concat(getCategoryDetailsState.category.banner_img),alt:\"\",className:\"banner_img\",style:{width:\"100%\",height:\"auto\"}}),/*#__PURE__*/React.createElement(\"img\",{src:\"\".concat(cnf.s3_base_url).concat(getCategoryDetailsState.category.m_banner_img),alt:\"\",className:\"m_banner_img\",style:{width:\"100%\",height:\"auto\"}})),/*#__PURE__*/React.createElement(GlobleBox,null,/*#__PURE__*/React.createElement(Wrapper,null,/*#__PURE__*/React.createElement(\"div\",{style:{textAlign:\"center\",margin:\"16px 0\"}},/*#__PURE__*/React.createElement(\"h1\",{style:{fontSize:32,fontWeight:\"bold\",textTransform:\"uppercase\"}},getCategoryDetailsState.category.name)),getCategoryDetailsState.children.length>0&&/*#__PURE__*/React.createElement(SubCatsWrapper,null,getCategoryDetailsState.children.map(function(subCategory){return/*#__PURE__*/React.createElement(SubCatsBox,{className:\"desktop\",to:\"/shop/\".concat(subCategory.url_key)},/*#__PURE__*/React.createElement(SubCategory,{img_url:\"\".concat(cnf.s3_base_url).concat(subCategory.image),subCategoryName:subCategory.name}));})),/*#__PURE__*/React.createElement(\"div\",{style:{textAlign:\"center\",margin:\"16px 0\"}},/*#__PURE__*/React.createElement(\"h1\",{style:{fontSize:32,fontWeight:\"bold\"}},\"PRODUCTS\")),/*#__PURE__*/React.createElement(ProductList,{category_url_key:category_url_key})))));};var mapStateToProps=function mapStateToProps(state){return{getCategoryDetailsState:state.getCategoryDetails};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{getCategoryDetails:function getCategoryDetails(params){return dispatch(_getCategoryDetails(params));},getCategoryDetailsReset:function getCategoryDetailsReset(){return dispatch(_getCategoryDetailsReset());}};};export default connect(mapStateToProps,mapDispatchToProps)(CategoryPage);","map":{"version":3,"sources":["/home/coder-kabir/Documents/GitHub/Vemshala/src/page/CategoryPage/CategoryPage.js"],"names":["Spin","React","useEffect","useState","Helmet","connect","Redirect","ProductList","SubCategory","GlobleBox","Wrapper","BannerContainer","SubCatsBox","SubCatsWrapper","getCategoryDetails","getCategoryDetailsReset","cnf","CategoryPage","props","category_url_key","match","params","category","redirect","setRedirect","getCategoryDetailsState","document","documentElement","scrollTop","apiState","name","minHeight","display","justifyContent","alignItems","s3_base_url","banner_img","width","height","m_banner_img","textAlign","margin","fontSize","fontWeight","textTransform","children","length","map","subCategory","url_key","image","mapStateToProps","state","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import { Spin } from \"antd\";\nimport React, { useEffect, useState } from \"react\";\nimport { Helmet } from \"react-helmet\";\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\n\n/* CUSTOM COMPONENTS */\nimport ProductList from \"../../component/ProductList/ProductList\";\nimport SubCategory from \"../../component/SubCategory/SubCategory\";\nimport { GlobleBox, Wrapper } from \"../../component/Xcomponent\";\nimport {\n  BannerContainer,\n  SubCatsBox,\n  SubCatsWrapper,\n} from \"./CategoryPageStyle\";\n\n/* ACTIONS */\nimport {\n  getCategoryDetails,\n  getCategoryDetailsReset,\n} from \"../../action/getCategoryDetailsAction\";\n\n/* OTHERS */\nimport cnf from \"../../config\";\n\nconst CategoryPage = (props) => {\n  /* VARIABLES */\n  const category_url_key = props.match.params.category;\n  const [redirect, setRedirect] = useState([false, \"\"]);\n  const {\n    getCategoryDetails,\n    getCategoryDetailsReset,\n    getCategoryDetailsState,\n  } = props;\n\n  /* CALLBACKS */\n  useEffect(() => {\n    getCategoryDetails({\n      category_url_key: category_url_key,\n    });\n    document.documentElement.scrollTop = 0;\n  }, [category_url_key]);\n\n  useEffect(() => {\n    if (getCategoryDetailsState.apiState === \"error\") {\n      // setRedirect([true, \"/\"])\n    }\n  }, [getCategoryDetailsState]);\n\n  return (\n    <>\n      <Helmet>\n        <title>{getCategoryDetailsState.category.name}</title>\n        <meta\n          name=\"og:title\"\n          property=\"og:title\"\n          content={getCategoryDetailsState.category.name}\n        />\n      </Helmet>\n      {redirect[0] && <Redirect to={redirect[1]} />}\n\n      {getCategoryDetailsState.apiState === \"loading\" && (\n        <div\n          style={{\n            minHeight: 500,\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n          }}\n        >\n          <Spin size=\"large\" />\n        </div>\n      )}\n      {getCategoryDetailsState.apiState === \"success\" && (\n        <>\n          <BannerContainer>\n            <img\n              src={`${cnf.s3_base_url}${getCategoryDetailsState.category.banner_img}`}\n              alt=\"\"\n              className=\"banner_img\"\n              style={{ width: \"100%\", height: \"auto\" }}\n            />\n            <img\n              src={`${cnf.s3_base_url}${getCategoryDetailsState.category.m_banner_img}`}\n              alt=\"\"\n              className=\"m_banner_img\"\n              style={{ width: \"100%\", height: \"auto\" }}\n            />\n          </BannerContainer>\n\n          <GlobleBox>\n            <Wrapper>\n              <div style={{ textAlign: \"center\", margin: \"16px 0\" }}>\n                <h1\n                  style={{\n                    fontSize: 32,\n                    fontWeight: \"bold\",\n                    textTransform: \"uppercase\",\n                  }}\n                >\n                  {getCategoryDetailsState.category.name}\n                </h1>\n              </div>\n\n              {getCategoryDetailsState.children.length > 0 && (\n                <SubCatsWrapper>\n                  {getCategoryDetailsState.children.map((subCategory) => (\n                    <SubCatsBox\n                      className=\"desktop\"\n                      to={`/shop/${subCategory.url_key}`}\n                    >\n                      <SubCategory\n                        img_url={`${cnf.s3_base_url}${subCategory.image}`}\n                        subCategoryName={subCategory.name}\n                      />\n                    </SubCatsBox>\n                  ))}\n                </SubCatsWrapper>\n              )}\n\n              <div style={{ textAlign: \"center\", margin: \"16px 0\" }}>\n                <h1 style={{ fontSize: 32, fontWeight: \"bold\" }}>PRODUCTS</h1>\n              </div>\n\n              <ProductList category_url_key={category_url_key} />\n            </Wrapper>\n          </GlobleBox>\n        </>\n      )}\n    </>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  getCategoryDetailsState: state.getCategoryDetails,\n});\nconst mapDispatchToProps = (dispatch) => ({\n  getCategoryDetails: (params) => dispatch(getCategoryDetails(params)),\n  getCategoryDetailsReset: () => dispatch(getCategoryDetailsReset()),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CategoryPage);\n"]},"metadata":{},"sourceType":"module"}