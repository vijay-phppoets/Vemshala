{"ast":null,"code":"import _slicedToArray from\"/home/coder-kabir/Documents/GitHub/Vemshala/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Button,Row,Col,message,Divider}from\"antd\";import{Link}from\"react-router-dom\";import{connect}from\"react-redux\";import{PlusOutlined,MinusOutlined,CheckCircleFilled}from\"@ant-design/icons\";/* CUSTOM COMPONENT */import Footer from\"../../component/Footer/Footer\";import{GlobleBox,WrapperSm}from\"../../component/Xcomponent\";import{CartItem,PaymentBtn,CouponBar,PlusMinusBtn,ActualPrice,RegularPrice,Discount}from\"./CheckoutCartStyle\";/* ACTIONS */import{updateCart as _updateCart,updateCartReset as _updateCartReset}from\"../../action/updateCartAction\";import{getCartCount as _getCartCount,getCartCountReset as _getCartCountReset}from\"../../action/getCartCountAction\";import{getCart as _getCart,getCartReset as _getCartReset}from\"../../action/getCartAction\";import{checkCoupon as _checkCoupon,checkCouponReset as _checkCouponReset}from\"../../action/checkCouponAction\";import{removeCoupon as _removeCoupon,removeCouponReset as _removeCouponReset}from\"../../action/removeCouponAction\";/* OTHERS */import cnf from\"../../config\";import{inr,getCartId,getCurrency}from\"../../utils\";var CheckoutCart=function CheckoutCart(props){/* varibale & state */var updateCart=props.updateCart,updateCartReset=props.updateCartReset,updateCartState=props.updateCartState,getCartCount=props.getCartCount,getCartCountReset=props.getCartCountReset,getCartCountState=props.getCartCountState,getCart=props.getCart,getCartReset=props.getCartReset,getCartState=props.getCartState,checkCoupon=props.checkCoupon,checkCouponReset=props.checkCouponReset,checkCouponState=props.checkCouponState,removeCoupon=props.removeCoupon,removeCouponReset=props.removeCouponReset,removeCouponState=props.removeCouponState;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),couponCode=_useState2[0],setCouponCode=_useState2[1];/* CALLBACK */useEffect(function(){if(updateCartState.apiState===\"success\"){updateCartReset();getCartCount({cart_id:getCartId()});getCart({cart_id:getCartId(),currencyType:getCurrency()});}if(updateCartState.apiState===\"error\"){message.error(\"Something went wrong. Please try later\");updateCartReset();}},[updateCartState]);useEffect(function(){if(checkCouponState.apiState===\"success\"){// code\ngetCart({cart_id:getCartId(),currencyType:getCurrency()});}if(checkCouponState.apiState===\"error\"){message.error(\"Something went wrong. Please try later\");}},[checkCouponState]);useEffect(function(){if(removeCouponState.apiState===\"success\"){// code\ngetCart({cart_id:getCartId(),currencyType:getCurrency()});}if(removeCouponState.apiState===\"error\"){message.error(\"Something went wrong. Please try later\");}},[removeCouponState]);/* FUNCTION */var handleAddToCart=function handleAddToCart(product_id,qty){updateCart({product_id:product_id,qty:qty,cart_id:getCartId()});};var handleCoupon=function handleCoupon(cartValue){// alert(cartValue)\ncheckCoupon({coupon_code:couponCode,cart_id:getCartId(),cartValue:cartValue,currencyType:getCurrency()});};var handleOnChange=function handleOnChange(e){setCouponCode(e.target.value);};var handleRemoveCoupon=function handleRemoveCoupon(cartId,couponCode){removeCoupon({coupon_code:couponCode,cart_id:cartId});};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(GlobleBox,null,/*#__PURE__*/React.createElement(WrapperSm,null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{style:{textAlign:\"center\",paddingTop:16}},/*#__PURE__*/React.createElement(\"h1\",{style:{fontSize:24,fontWeight:\"bold\"}},\"CART\",getCartState.cart&&getCartState.cart.items&&getCartState.cart.items.length>0&&\" (\".concat(getCartState.cart.items.length,\")\"))),/*#__PURE__*/React.createElement(Row,{gutter:\"24\"},/*#__PURE__*/React.createElement(Col,{xs:24,sm:24,md:16,lg:16,xl:16},getCartState.cart&&getCartState.cart.items&&getCartState.cart.items.length>0?/*#__PURE__*/React.createElement(React.Fragment,null,getCartState.cart.items.map(function(item){return/*#__PURE__*/React.createElement(CartItem,null,/*#__PURE__*/React.createElement(\"div\",{style:{flex:0.2,padding:\"0px 4px\"}},/*#__PURE__*/React.createElement(\"img\",{src:\"\".concat(cnf.s3_base_url).concat(item.p_thumbnail),alt:item.p_thumbnail,style:{width:80,heigth:80}})),/*#__PURE__*/React.createElement(\"div\",{style:{flex:0.8,padding:\"0px 4px\"}},/*#__PURE__*/React.createElement(\"h3\",null,item.p_name),/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",alignItems:\"center\"}},/*#__PURE__*/React.createElement(PlusMinusBtn,{type:\"text\",icon:/*#__PURE__*/React.createElement(MinusOutlined,null),onClick:function onClick(){return handleAddToCart(item.product_id,-1);}}),/*#__PURE__*/React.createElement(\"div\",{style:{margin:\"0 8px\",fontWeight:\"500\"}},item.quantity),/*#__PURE__*/React.createElement(PlusMinusBtn,{type:\"text\",icon:/*#__PURE__*/React.createElement(PlusOutlined,null),onClick:function onClick(){return handleAddToCart(item.product_id,1);}})),/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:8}},item.p_is_sale_price===\"yes\"?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ActualPrice,null,getCurrency()==\"USD\"?/*#__PURE__*/React.createElement(React.Fragment,null,\"$\"):/*#__PURE__*/React.createElement(React.Fragment,null,\"\\u20B9\"),inr(item.p_actual_price)),/*#__PURE__*/React.createElement(RegularPrice,{style:{textDecoration:\"line-through\"}},getCurrency()==\"USD\"?/*#__PURE__*/React.createElement(React.Fragment,null,\"$\"):/*#__PURE__*/React.createElement(React.Fragment,null,\"\\u20B9\"),inr(item.p_regular_price)),/*#__PURE__*/React.createElement(Discount,null,item.p_discount,\"% OFF\")):/*#__PURE__*/React.createElement(ActualPrice,null,getCurrency()==\"USD\"?/*#__PURE__*/React.createElement(React.Fragment,null,\"$\"):/*#__PURE__*/React.createElement(React.Fragment,null,\"\\u20B9\"),inr(item.p_actual_price)))));})):/*#__PURE__*/React.createElement(\"div\",{className:\"mob-detail\",style:{height:\"100%\",display:\"flex\",justifyContent:\"center\",alignItems:\"center\",padding:\"150px 30px 150px 370px\"}},\"No product added to the cart.\"),getCartState.apiState===\"error\"&&/*#__PURE__*/React.createElement(\"div\",{style:{height:\"100%\",display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}},\"No product added to the cart.\")),/*#__PURE__*/React.createElement(Col,{xs:24,sm:24,md:8,lg:8,xl:8},getCartCountState.count>0&&/*#__PURE__*/React.createElement(\"div\",{style:{border:\"solid 1px rgb(0,0,0,0.1)\",padding:16,borderRadius:4,marginBottom:\"8px\",background:\"white\"}},/*#__PURE__*/React.createElement(\"div\",{style:{borderBottom:\"solid 1px rgb(0,0,0,0.1)\",marginBottom:12}},/*#__PURE__*/React.createElement(\"h3\",null,\"Summary\")),/*#__PURE__*/React.createElement(\"p\",{style:{display:\"flex\",justifyContent:\"space-between\",color:\"rgb(0,0,0,0.7)\"}},/*#__PURE__*/React.createElement(\"span\",null,\"SUBTOTAL\"),/*#__PURE__*/React.createElement(\"span\",null,getCurrency()==\"USD\"?/*#__PURE__*/React.createElement(React.Fragment,null,\"$\"):/*#__PURE__*/React.createElement(React.Fragment,null,\"\\u20B9\"),inr(getCartState.cart&&getCartState.cart.subTotal?getCartState.cart.subTotal:0))),/*#__PURE__*/React.createElement(\"p\",{style:{display:\"flex\",justifyContent:\"space-between\",color:\"rgb(0,0,0,0.7)\"}},/*#__PURE__*/React.createElement(\"span\",null,\"DISCOUNT\"),/*#__PURE__*/React.createElement(\"span\",null,getCurrency()==\"USD\"?/*#__PURE__*/React.createElement(React.Fragment,null,\"$\"):/*#__PURE__*/React.createElement(React.Fragment,null,\"\\u20B9\"),inr(getCartState.cart&&getCartState.cart.discount?getCartState.cart.discount*-1:0))),/*#__PURE__*/React.createElement(\"p\",{style:{display:\"flex\",justifyContent:\"space-between\",color:\"rgb(0,0,0,0.9)\",fontWeight:800}},/*#__PURE__*/React.createElement(\"span\",null,\"TOTAL\"),/*#__PURE__*/React.createElement(\"span\",null,getCurrency()==\"USD\"?/*#__PURE__*/React.createElement(React.Fragment,null,\"$\"):/*#__PURE__*/React.createElement(React.Fragment,null,\"\\u20B9\"),inr(getCartState.cart&&getCartState.cart.total?getCartState.cart.total:0))),/*#__PURE__*/React.createElement(Divider,null),/*#__PURE__*/React.createElement(\"h3\",null,\"Apply Coupon\"),getCartState.cart&&getCartState.cart.couponCode?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"p\",{style:{display:\"flex\",justifyContent:\"space-between\",color:\"rgb(0,0,0,0.9)\",fontWeight:500,paddingTop:\"5px\"}},/*#__PURE__*/React.createElement(\"span\",null,getCartState.cart.couponCode),/*#__PURE__*/React.createElement(Button,{type:\"primary\",onClick:function onClick(){return handleRemoveCoupon(getCartState.cart.id,getCartState.cart.couponCode);}},\"REMOVE\"))):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{style:{marginBottom:16}},/*#__PURE__*/React.createElement(CouponBar,{placeholder:\"Enter Coupon\",enterButton:null,size:\"middle\",onChange:handleOnChange,suffix:/*#__PURE__*/React.createElement(Button,{type:\"primary\",onClick:function onClick(){return handleCoupon(getCartState.cart.subTotal);}},\"APPLY\"),style:{width:\"100%\"}}))),/*#__PURE__*/React.createElement(Link,{to:\"/checkout/login\"},/*#__PURE__*/React.createElement(PaymentBtn,{block:true,type:\"primary\"},\"CHECKOUT\")))))))));};var mapStateToProps=function mapStateToProps(state){return{getCartState:state.getCart,updateCartState:state.updateCart,getCartCountState:state.getCartCount,checkCouponState:state.checkCoupon,removeCouponState:state.removeCoupon};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{updateCart:function updateCart(params){return dispatch(_updateCart(params));},updateCartReset:function updateCartReset(){return dispatch(_updateCartReset());},getCartCount:function getCartCount(params){return dispatch(_getCartCount(params));},getCartCountReset:function getCartCountReset(){return dispatch(_getCartCountReset());},getCart:function getCart(params){return dispatch(_getCart(params));},getCartReset:function getCartReset(){return dispatch(_getCartReset());},checkCoupon:function checkCoupon(params){return dispatch(_checkCoupon(params));},checkCouponReset:function checkCouponReset(){return dispatch(_checkCouponReset());},removeCoupon:function removeCoupon(params){return dispatch(_removeCoupon(params));},removeCouponReset:function removeCouponReset(){return dispatch(_removeCouponReset());}};};export default connect(mapStateToProps,mapDispatchToProps)(CheckoutCart);","map":{"version":3,"sources":["/home/coder-kabir/Documents/GitHub/Vemshala/src/page/CheckoutCart/CheckoutCart.js"],"names":["React","useEffect","useState","Button","Row","Col","message","Divider","Link","connect","PlusOutlined","MinusOutlined","CheckCircleFilled","Footer","GlobleBox","WrapperSm","CartItem","PaymentBtn","CouponBar","PlusMinusBtn","ActualPrice","RegularPrice","Discount","updateCart","updateCartReset","getCartCount","getCartCountReset","getCart","getCartReset","checkCoupon","checkCouponReset","removeCoupon","removeCouponReset","cnf","inr","getCartId","getCurrency","CheckoutCart","props","updateCartState","getCartCountState","getCartState","checkCouponState","removeCouponState","couponCode","setCouponCode","apiState","cart_id","currencyType","error","handleAddToCart","product_id","qty","handleCoupon","cartValue","coupon_code","handleOnChange","e","target","value","handleRemoveCoupon","cartId","textAlign","paddingTop","fontSize","fontWeight","cart","items","length","map","item","flex","padding","s3_base_url","p_thumbnail","width","heigth","p_name","display","alignItems","margin","quantity","marginTop","p_is_sale_price","p_actual_price","textDecoration","p_regular_price","p_discount","height","justifyContent","count","border","borderRadius","marginBottom","background","borderBottom","color","subTotal","discount","total","id","mapStateToProps","state","mapDispatchToProps","dispatch","params"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\"\nimport { Button, Row, Col, message, Divider } from \"antd\"\nimport { Link } from \"react-router-dom\"\nimport { connect } from \"react-redux\"\nimport {\n    PlusOutlined, MinusOutlined, CheckCircleFilled\n} from \"@ant-design/icons\"\n\n/* CUSTOM COMPONENT */\nimport Footer from \"../../component/Footer/Footer\"\nimport { GlobleBox, WrapperSm } from \"../../component/Xcomponent\"\nimport {\n    CartItem, PaymentBtn, CouponBar, PlusMinusBtn,\n    ActualPrice, RegularPrice, Discount\n} from \"./CheckoutCartStyle\"\n\n\n/* ACTIONS */\nimport { updateCart, updateCartReset } from \"../../action/updateCartAction\"\nimport { getCartCount, getCartCountReset } from \"../../action/getCartCountAction\"\nimport { getCart, getCartReset } from \"../../action/getCartAction\"\nimport { checkCoupon, checkCouponReset } from \"../../action/checkCouponAction\"\nimport { removeCoupon, removeCouponReset } from \"../../action/removeCouponAction\"\n\n/* OTHERS */\nimport cnf from \"../../config\"\nimport { inr, getCartId, getCurrency } from \"../../utils\"\n\nconst CheckoutCart = props => {\n    /* varibale & state */\n    const {\n        updateCart, updateCartReset, updateCartState,\n        getCartCount, getCartCountReset, getCartCountState,\n        getCart, getCartReset, getCartState,\n        checkCoupon, checkCouponReset, checkCouponState,\n        removeCoupon, removeCouponReset, removeCouponState\n    } = props\n    const [couponCode, setCouponCode] = useState(\"\")\n\n    /* CALLBACK */\n    useEffect(() => {\n        if (updateCartState.apiState === \"success\") {\n            updateCartReset()\n            getCartCount({\n                cart_id: getCartId()\n            })\n            getCart({\n                cart_id: getCartId(),\n                currencyType: getCurrency()\n            })\n        }\n        if (updateCartState.apiState === \"error\") {\n            message.error(\"Something went wrong. Please try later\");\n            updateCartReset()\n        }\n    }, [updateCartState])\n\n    useEffect(() => {\n        if (checkCouponState.apiState === \"success\") {\n            // code\n            getCart({\n                cart_id: getCartId(),\n                currencyType: getCurrency()\n            })\n        }\n        if (checkCouponState.apiState === \"error\") {\n            message.error(\"Something went wrong. Please try later\");\n        }\n    }, [checkCouponState])\n\n    useEffect(() => {\n        if (removeCouponState.apiState === \"success\") {\n            // code\n            getCart({\n                cart_id: getCartId(),\n                currencyType: getCurrency()\n            })\n        }\n        if (removeCouponState.apiState === \"error\") {\n            message.error(\"Something went wrong. Please try later\");\n        }\n    }, [removeCouponState])\n\n    /* FUNCTION */\n    const handleAddToCart = (product_id, qty) => {\n        updateCart({\n            product_id: product_id,\n            qty: qty,\n            cart_id: getCartId()\n        })\n    }\n\n    const handleCoupon = (cartValue) => {\n        // alert(cartValue)\n        checkCoupon({\n            coupon_code: couponCode,\n            cart_id: getCartId(),\n            cartValue: cartValue,\n            currencyType: getCurrency()\n        })\n\n    }\n    const handleOnChange = (e) => {\n        setCouponCode(e.target.value)\n    }\n\n    const handleRemoveCoupon = (cartId, couponCode) => {\n        removeCoupon({\n            coupon_code: couponCode,\n            cart_id: cartId,\n        })\n    }\n\n\n\n    return (\n        <>\n            <GlobleBox>\n                <WrapperSm>\n                    <div>\n                        <div style={{ textAlign: \"center\", paddingTop: 16 }} >\n                            <h1 style={{ fontSize: 24, fontWeight: \"bold\" }} >\n                                CART\n                                {getCartState.cart && getCartState.cart.items && getCartState.cart.items.length > 0 && ` (${getCartState.cart.items.length})`}\n                            </h1>\n                        </div>\n\n                        <Row gutter=\"24\">\n                            <Col xs={24} sm={24} md={16} lg={16} xl={16}>\n\n                                {getCartState.cart && getCartState.cart.items && getCartState.cart.items.length > 0 ?\n                                    <>\n                                        {getCartState.cart.items.map(item => (\n                                            <CartItem>\n                                                <div style={{ flex: 0.2, padding: \"0px 4px\" }} >\n                                                    <img\n                                                        src={`${cnf.s3_base_url}${item.p_thumbnail}`}\n                                                        alt={item.p_thumbnail}\n                                                        style={{ width: 80, heigth: 80 }}\n                                                    />\n                                                </div>\n                                                <div style={{ flex: 0.8, padding: \"0px 4px\" }}>\n                                                    <h3>{item.p_name}</h3>\n                                                    {/* <p>Size: <span style={{ fontWeight: \"600\" }} >Small</span>, Color: <span style={{ fontWeight: \"600\" }} >Red</span> </p> */}\n                                                    <div style={{\n                                                        display: \"flex\",\n                                                        alignItems: \"center\"\n                                                    }} >\n                                                        <PlusMinusBtn type=\"text\" icon={<MinusOutlined />}\n                                                            onClick={() => handleAddToCart(item.product_id, -1)}\n                                                        />\n                                                        <div style={{ margin: \"0 8px\", fontWeight: \"500\" }} >{item.quantity}</div>\n                                                        <PlusMinusBtn type=\"text\" icon={<PlusOutlined />}\n                                                            onClick={() => handleAddToCart(item.product_id, 1)}\n                                                        />\n                                                    </div>\n                                                    <div style={{ marginTop: 8 }} >\n                                                        \n                                                        {item.p_is_sale_price === \"yes\" ?\n                                                            <>\n                                                                <ActualPrice> \n                                                                    {getCurrency() == \"USD\" ? <>$</> : <>₹</>}{inr(item.p_actual_price)}\n                                                                </ActualPrice>\n                                                                <RegularPrice style={{textDecoration: \"line-through\"}}>{getCurrency() == \"USD\" ? <>$</> : <>₹</>}{inr(item.p_regular_price)}</RegularPrice>\n                                                                <Discount>{item.p_discount}% OFF</Discount>\n                                                            </>:\n                                                            <ActualPrice > \n                                                                {getCurrency() == \"USD\" ? <>$</> : <>₹</>}{inr(item.p_actual_price)}\n                                                            </ActualPrice>\n                                                        }\n                                                    </div>\n                                                </div>\n                                            </CartItem>\n                                        ))}\n                                    </>\n                                    : <div className=\"mob-detail\" style={{ height: \"100%\", display: \"flex\", justifyContent: \"center\", alignItems: \"center\", padding:\"150px 30px 150px 370px\" }} >No product added to the cart.</div>\n                                }\n\n\n                                {getCartState.apiState === \"error\" &&\n                                    <div style={{ height: \"100%\", display: \"flex\", justifyContent: \"center\", alignItems: \"center\" }} >No product added to the cart.</div>\n                                }\n                            </Col>\n                          \n                            <Col xs={24} sm={24} md={8} lg={8} xl={8}>\n                            {getCartCountState.count>0 && \n                                <div style={{ border: \"solid 1px rgb(0,0,0,0.1)\", padding: 16, borderRadius: 4, marginBottom: \"8px\", background: \"white\" }} >\n                                    <div style={{ borderBottom: \"solid 1px rgb(0,0,0,0.1)\", marginBottom: 12 }} >\n                                        <h3>Summary</h3>\n                                    </div>\n                                    <p style={{ display: \"flex\", justifyContent: \"space-between\", color: \"rgb(0,0,0,0.7)\" }} >\n                                        <span>SUBTOTAL</span>\n                                        <span>{getCurrency() == \"USD\" ? <>$</> : <>₹</>}{inr(getCartState.cart && getCartState.cart.subTotal ? getCartState.cart.subTotal : 0)}</span>\n                                    </p>\n                                    <p style={{ display: \"flex\", justifyContent: \"space-between\", color: \"rgb(0,0,0,0.7)\" }} >\n                                        <span>DISCOUNT</span>\n                                        <span>{getCurrency() == \"USD\" ? <>$</> : <>₹</>}{inr(getCartState.cart && getCartState.cart.discount ? getCartState.cart.discount * -1 : 0)}</span>\n                                    </p>\n                                    <p style={{ display: \"flex\", justifyContent: \"space-between\", color: \"rgb(0,0,0,0.9)\", fontWeight: 800 }} >\n                                        <span>TOTAL</span>\n                                        <span>{getCurrency() == \"USD\" ? <>$</> : <>₹</>}{inr(getCartState.cart && getCartState.cart.total ? getCartState.cart.total : 0)}</span>\n                                    </p>\n                                    <Divider />\n                                    <h3>Apply Coupon</h3>\n                                    {\n                                        getCartState.cart && getCartState.cart.couponCode ?\n                                            <>\n                                                <p style={{ display: \"flex\", justifyContent: \"space-between\", color: \"rgb(0,0,0,0.9)\", fontWeight: 500, paddingTop: \"5px\" }} >\n                                                    <span>{getCartState.cart.couponCode}</span>\n                                                    <Button type=\"primary\" onClick={() => handleRemoveCoupon(getCartState.cart.id, getCartState.cart.couponCode)}>REMOVE</Button>\n                                                </p>\n                                            </>\n                                            :\n                                            <>\n\n                                                <div style={{ marginBottom: 16 }} >\n                                                    <CouponBar\n                                                        placeholder=\"Enter Coupon\"\n                                                        enterButton={null}\n                                                        size=\"middle\"\n                                                        onChange={handleOnChange}\n                                                        suffix={<Button type=\"primary\" onClick={() => handleCoupon(getCartState.cart.subTotal)} >APPLY</Button>}\n                                                        style={{ width: \"100%\" }}\n                                                    />\n                                                </div>\n                                            </>\n                                    }\n\n                                    <Link to=\"/checkout/login\" >\n                                        <PaymentBtn block type=\"primary\" >CHECKOUT</PaymentBtn>\n                                    </Link>\n                                </div>\n                            } \n                            </Col>\n                        </Row>\n                    </div>\n                </WrapperSm>\n            </GlobleBox>\n           \n        </>\n    )\n}\n\nconst mapStateToProps = (state) => ({\n    getCartState: state.getCart,\n    updateCartState: state.updateCart,\n    getCartCountState: state.getCartCount,\n    checkCouponState: state.checkCoupon,\n    removeCouponState: state.removeCoupon,\n})\nconst mapDispatchToProps = (dispatch) => ({\n    updateCart: (params) => dispatch(updateCart(params)),\n    updateCartReset: () => dispatch(updateCartReset()),\n    getCartCount: (params) => dispatch(getCartCount(params)),\n    getCartCountReset: () => dispatch(getCartCountReset()),\n    getCart: (params) => dispatch(getCart(params)),\n    getCartReset: () => dispatch(getCartReset()),\n    checkCoupon: (params) => dispatch(checkCoupon(params)),\n    checkCouponReset: () => dispatch(checkCouponReset()),\n    removeCoupon: (params) => dispatch(removeCoupon(params)),\n    removeCouponReset: () => dispatch(removeCouponReset()),\n\n})\nexport default connect(mapStateToProps, mapDispatchToProps)(CheckoutCart)\n"]},"metadata":{},"sourceType":"module"}