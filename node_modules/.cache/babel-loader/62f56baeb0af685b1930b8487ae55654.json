{"ast":null,"code":"var _jsxFileName = \"/home/coder-kabir/Documents/GitHub/Vemshala/src/component/FilterSection/FilterSection.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { Button, Space, Dropdown, Menu, Checkbox, Row, Col } from \"antd\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport _ from \"lodash\";\nimport { DownOutlined, CloseOutlined } from '@ant-design/icons';\n/* custom component */\n\nimport { FilterIcon } from \"../../component/CustomIcons\";\nimport { Container } from \"./FilterSectionStyle\";\n/* actions */\n\nimport { getAttributeList, getAttributeListReset } from \"../../action/getAttributeListAction\";\nimport { filter_price } from \"../../strings.json\";\n\nconst FilterSection = props => {\n  /* variables */\n  const {\n    getCategoryTreeState,\n    getAttributeList,\n    getAttributeListReset,\n    getAttributeListState\n  } = props;\n  const [visible, setVisible] = useState(false);\n  const [categories, setCategories] = useState([]);\n  const [attributes, setAttributes] = useState([]);\n  const menu = /*#__PURE__*/React.createElement(Menu, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Menu.Item, {\n    onClick: () => props.handleSort(\"price_low_to_high\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }\n  }, \"Price Low to High\"), /*#__PURE__*/React.createElement(Menu.Item, {\n    onClick: () => props.handleSort(\"price_high_to_low\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }\n  }, \"Price High to Low\"));\n  /* callbacks */\n\n  useEffect(() => {\n    getAttributeList();\n  }, []);\n  useEffect(() => {\n    if (getCategoryTreeState.apiState === \"success\") {\n      if (_.find(getCategoryTreeState.tree, {\n        'url_key': props.category_url_key\n      })) {\n        setCategories(_.find(getCategoryTreeState.tree, {\n          'url_key': props.category_url_key\n        }).children);\n      }\n    }\n  }, [getCategoryTreeState]);\n  useEffect(() => {\n    if (getAttributeListState.apiState === \"success\") {\n      setAttributes(getAttributeListState.list);\n    }\n  }, [getAttributeListState]);\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      margin: \"0 16px\",\n      display: \"flex\",\n      justifyContent: \"flex-end\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Space, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"text\",\n    onClick: () => setVisible(!visible),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      alignItems: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 25\n    }\n  }, visible ? /*#__PURE__*/React.createElement(CloseOutlined, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 40\n    }\n  }) : /*#__PURE__*/React.createElement(FilterIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 60\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      marginLeft: 8\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 29\n    }\n  }, \"FILTER\"))), /*#__PURE__*/React.createElement(Dropdown, {\n    overlay: menu,\n    trigger: [\"click\"],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      alignItems: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(DownOutlined, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      marginLeft: 8\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 49\n    }\n  }, \"SORT\", props.sortBy === \"price_high_to_low\" && \": High to Low\", props.sortBy === \"price_low_to_high\" && \": Low to High\")))))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      background: \"#fff\",\n      marginTop: 8,\n      height: visible ? 200 : 0,\n      display: \"flex\",\n      flexFlow: \"wrap\",\n      border: '1px solid #999',\n      borderRadius: '20px'\n    },\n    className: \"filter-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, categories.length > 0 && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '20%',\n      padding: \"20px 10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    style: {\n      color: \"#00000099\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 25\n    }\n  }, \"FILTER BY CATEGORY\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: \"0 4px\",\n      maxHeight: 200,\n      overflowY: \"hidden\",\n      display: \"flex\",\n      flexDirection: \"column\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 25\n    }\n  }, categories.map(cat => /*#__PURE__*/React.createElement(Checkbox, {\n    style: {\n      marginLeft: 8\n    },\n    onChange: e => props.handleFilter('category', cat.url_key, e.target.checked),\n    checked: props.filter_params.category && props.filter_params.category.split(\",\").includes(cat.url_key),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 33\n    }\n  }, cat.name)))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '20%',\n      padding: \"20px 10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    style: {\n      color: \"#00000099\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 21\n    }\n  }, \"FILTER BY PRICE\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: \"0 4px\",\n      maxHeight: 200,\n      overflowY: \"hidden\",\n      display: \"flex\",\n      flexDirection: \"column\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 21\n    }\n  }, filter_price.map(obj => /*#__PURE__*/React.createElement(Checkbox, {\n    style: {\n      marginLeft: 8\n    },\n    onChange: e => props.handleFilter('price', obj.value, e.target.checked),\n    checked: props.filter_params.price && props.filter_params.price.split(\",\").includes(obj.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 29\n    }\n  }, obj.label)))), attributes.map(att => /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '20%',\n      padding: \"20px 10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    style: {\n      color: \"#00000099\",\n      textTransform: \"uppercase\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 25\n    }\n  }, \"FILTER BY \", att.name), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: \"0 4px\",\n      maxHeight: 200,\n      overflowY: \"hidden\",\n      display: \"flex\",\n      flexDirection: \"column\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 25\n    }\n  }, att.options.map(option => /*#__PURE__*/React.createElement(\"label\", {\n    style: {\n      display: \"flex\",\n      alignItems: \"center\",\n      cursor: \"pointer\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Checkbox, {\n    style: {\n      marginLeft: 8\n    },\n    onChange: e => props.handleAttrFilter(att.attr_code, option.option_url_key, e.target.checked),\n    checked: props.attr_filter_params[att.attr_code] && props.attr_filter_params[att.attr_code].split(\",\").includes(option.option_url_key),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      alignItems: \"center\",\n      marginLeft: 8\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 37\n    }\n  }, att.type === \"color_swatch\" && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: 16,\n      width: 16,\n      borderRadius: 8,\n      background: option.color_code,\n      marginRight: 4,\n      border: \"solid 1px #000\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 73\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 41\n    }\n  }, option.option_value)))))))));\n};\n\nconst mapStateToProps = state => ({\n  getCategoryTreeState: state.getCategoryTree,\n  getAttributeListState: state.getAttributeList\n});\n\nconst mapDispatchToProps = dispatch => ({\n  getAttributeList: params => dispatch(getAttributeList(params)),\n  getAttributeListReset: () => dispatch(getAttributeListReset())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FilterSection);","map":{"version":3,"sources":["/home/coder-kabir/Documents/GitHub/Vemshala/src/component/FilterSection/FilterSection.js"],"names":["React","useEffect","useState","Button","Space","Dropdown","Menu","Checkbox","Row","Col","Link","connect","_","DownOutlined","CloseOutlined","FilterIcon","Container","getAttributeList","getAttributeListReset","filter_price","FilterSection","props","getCategoryTreeState","getAttributeListState","visible","setVisible","categories","setCategories","attributes","setAttributes","menu","handleSort","apiState","find","tree","category_url_key","children","list","margin","display","justifyContent","alignItems","marginLeft","sortBy","background","marginTop","height","flexFlow","border","borderRadius","length","width","padding","color","maxHeight","overflowY","flexDirection","map","cat","e","handleFilter","url_key","target","checked","filter_params","category","split","includes","name","obj","value","price","label","att","textTransform","options","option","cursor","handleAttrFilter","attr_code","option_url_key","attr_filter_params","type","color_code","marginRight","option_value","mapStateToProps","state","getCategoryTree","mapDispatchToProps","dispatch","params"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\"\nimport { Button, Space, Dropdown, Menu, Checkbox, Row, Col } from \"antd\"\nimport { Link } from \"react-router-dom\"\nimport { connect } from \"react-redux\"\nimport _ from \"lodash\"\nimport { DownOutlined, CloseOutlined } from '@ant-design/icons'\n\n\n/* custom component */\nimport { FilterIcon } from \"../../component/CustomIcons\"\nimport { Container } from \"./FilterSectionStyle\"\n\n\n/* actions */\nimport { getAttributeList, getAttributeListReset } from \"../../action/getAttributeListAction\"\nimport { filter_price } from \"../../strings.json\"\n\nconst FilterSection = props => {\n    /* variables */\n    const {\n        getCategoryTreeState,\n        getAttributeList, getAttributeListReset, getAttributeListState\n    } = props\n    const [visible, setVisible] = useState(false)\n    const [categories, setCategories] = useState([])\n    const [attributes, setAttributes] = useState([])\n    const menu = (\n        <Menu>\n            <Menu.Item onClick={() => props.handleSort(\"price_low_to_high\")} >Price Low to High</Menu.Item>\n            <Menu.Item onClick={() => props.handleSort(\"price_high_to_low\")} >Price High to Low</Menu.Item>\n        </Menu>\n    );\n\n    /* callbacks */\n    useEffect(() => {\n        getAttributeList()\n    }, [])\n\n    useEffect(() => {\n        if (getCategoryTreeState.apiState === \"success\") {\n            if (_.find(getCategoryTreeState.tree, { 'url_key': props.category_url_key })) {\n                setCategories(_.find(getCategoryTreeState.tree, { 'url_key': props.category_url_key }).children);\n            }\n        }\n    }, [getCategoryTreeState])\n\n    useEffect(() => {\n        if (getAttributeListState.apiState === \"success\") {\n            setAttributes(getAttributeListState.list)\n        }\n    }, [getAttributeListState])\n\n    return (\n        <Container>\n            <div style={{ margin: \"0 16px\", display: \"flex\", justifyContent: \"flex-end\" }} >\n                <Space>\n                    <Button type=\"text\" onClick={() => setVisible(!visible)}>\n                        <div style={{ display: \"flex\", alignItems: \"center\" }} >\n                            {visible ? <CloseOutlined /> : <FilterIcon />}\n                            <span style={{ marginLeft: 8 }}>FILTER</span>\n                        </div>\n                    </Button>\n                    <Dropdown overlay={menu} trigger={[\"click\"]} >\n                        <Button type=\"text\" >\n                            <div style={{ display: \"flex\", alignItems: \"center\" }} >\n                                <DownOutlined /><span style={{ marginLeft: 8 }} >\n                                    SORT\n                                    {props.sortBy === \"price_high_to_low\" && \": High to Low\"}\n                                    {props.sortBy === \"price_low_to_high\" && \": Low to High\"}\n                                </span>\n                            </div>\n                        </Button>\n                    </Dropdown>\n                </Space>\n\n            </div>\n            <div style={{ background: \"#fff\", marginTop: 8, height: visible ? 200 : 0,  display: \"flex\", flexFlow: \"wrap\",border:'1px solid #999',borderRadius:'20px' }} className=\"filter-box\" >\n                {categories.length > 0 &&\n                    <div style={{ width: '20%', padding: \"20px 10px\" }} >\n                        <h4 style={{ color: \"#00000099\" }} >FILTER BY CATEGORY</h4>\n                        <div style={{ padding: \"0 4px\", maxHeight: 200, overflowY: \"hidden\", display: \"flex\", flexDirection: \"column\" }} >\n                            {categories.map(cat => (\n                                <Checkbox style={{ marginLeft: 8 }}\n                                    onChange={e => props.handleFilter('category', cat.url_key, e.target.checked)}\n                                    checked={props.filter_params.category && props.filter_params.category.split(\",\").includes(cat.url_key)}\n                                >{cat.name}</Checkbox>\n                            ))}\n                        </div>\n                    </div>\n                }\n                <div style={{ width:'20%', padding: \"20px 10px\" }} >\n                    <h4 style={{ color: \"#00000099\" }} >FILTER BY PRICE</h4>\n                    <div style={{ padding: \"0 4px\", maxHeight: 200, overflowY: \"hidden\", display: \"flex\", flexDirection: \"column\" }} >\n                        {filter_price.map(obj => (\n                            <Checkbox style={{ marginLeft: 8 }}\n                                onChange={e => props.handleFilter('price', obj.value, e.target.checked)}\n                                checked={props.filter_params.price && props.filter_params.price.split(\",\").includes(obj.value)}\n                            >{obj.label}</Checkbox>\n                        ))}\n                    </div>\n                </div>\n                {attributes.map(att => (\n                    <div style={{ width: '20%', padding: \"20px 10px\" }} >\n                        <h4 style={{ color: \"#00000099\", textTransform: \"uppercase\" }} >FILTER BY {att.name}</h4>\n                        <div style={{ padding: \"0 4px\", maxHeight: 200, overflowY: \"hidden\", display: \"flex\", flexDirection: \"column\" }} >\n                            {att.options.map(option => (\n                                <label style={{ display: \"flex\", alignItems: \"center\", cursor: \"pointer\" }} >\n                                    <Checkbox style={{ marginLeft: 8 }}\n                                        onChange={e => props.handleAttrFilter(att.attr_code, option.option_url_key, e.target.checked)}\n                                        checked={props.attr_filter_params[att.attr_code] && props.attr_filter_params[att.attr_code].split(\",\").includes(option.option_url_key)}\n                                    />\n                                    <div style={{ display: \"flex\", alignItems: \"center\", marginLeft: 8 }} >\n                                        {att.type === \"color_swatch\" && <div style={{ height: 16, width: 16, borderRadius: 8, background: option.color_code, marginRight: 4, border: \"solid 1px #000\" }} />}\n                                        <span>{option.option_value}</span>\n                                    </div>\n                                </label>\n                            ))}\n                        </div>\n                    </div>\n                ))}\n            </div>\n        </Container>\n    )\n}\n\nconst mapStateToProps = (state) => ({\n    getCategoryTreeState: state.getCategoryTree,\n    getAttributeListState: state.getAttributeList,\n})\nconst mapDispatchToProps = (dispatch) => ({\n    getAttributeList: (params) => dispatch(getAttributeList(params)),\n    getAttributeListReset: () => dispatch(getAttributeListReset()),\n})\nexport default connect(mapStateToProps, mapDispatchToProps)(FilterSection)"]},"metadata":{},"sourceType":"module"}