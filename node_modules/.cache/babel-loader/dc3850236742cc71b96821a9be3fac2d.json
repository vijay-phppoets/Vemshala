{"ast":null,"code":"var _jsxFileName = \"/home/kuldeep/Git Hub/Vemshala/src/page/Login/Login.js\";\nimport React, { useEffect, useState } from 'react';\nimport { Button, Drawer, message, Menu, Dropdown, Input, Form, Divider } from \"antd\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\n/* CUSTOM COMPONENT */\n\nimport { GlobleBox, WrapperSm, BlackBtn } from \"../../component/Xcomponent\";\nimport CheckoutStep from \"../../component/CheckoutStep/CheckoutStep\";\nimport CheckoutHeader from \"../../component/CheckoutHeader/CheckoutHeader\";\nimport { Left, Right } from \"./LoginStyle\";\nimport GoogleLogin from \"react-google-login\";\nimport GoogleButton from 'react-google-button';\n/* actions */\n\nimport { toggleSignupModal, setUserLoggedIn, setCustomerData } from \"../../action/generalAction\";\nimport { createCustomer, createCustomerReset } from \"../../action/createCustomerAction\";\nimport { login, loginReset } from \"../../action/loginAction\";\n/* other */\n\nimport { setToken, setCustomer, getCartId } from \"../../utils\";\n\nconst Login = props => {\n  /* variable & state */\n  const {\n    toggleSignupModal,\n    setUserLoggedIn,\n    setCustomerData,\n    login,\n    loginReset,\n    loginState,\n    createCustomer,\n    createCustomerReset,\n    createCustomerState\n  } = props;\n  const [formData, setFormData] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  const [redirect, setRedirect] = useState([false, \"\"]);\n  /* callback */\n\n  useEffect(() => {\n    if (loginState.apiState === \"error\") {\n      message.error(\"Something went wrong. Please try later\");\n      loginReset();\n    }\n\n    if (loginState.apiState === \"success\") {\n      message.success(loginState.message);\n      setToken(loginState.token);\n      setUserLoggedIn();\n      setCustomer(loginState.customer);\n      setCustomerData({\n        customer: loginState.customer\n      });\n      setRedirect([true, '/checkout/billing']);\n      loginReset();\n    }\n  }, [loginState]);\n  useEffect(() => {\n    if (createCustomerState.apiState === \"error\") {// message.error(createCustomerState.message);\n    }\n\n    if (createCustomerState.apiState === \"success\") {\n      if (createCustomerState.customer.signup_method == \"website\") {\n        toggleSignupModal();\n      }\n\n      if (createCustomerState.customer.signup_method != \"website\") {\n        message.success(createCustomerState.message);\n      }\n\n      setToken(createCustomerState.token);\n      setUserLoggedIn();\n      setCustomer(createCustomerState.customer);\n      setCustomerData({\n        customer: createCustomerState.customer\n      });\n      createCustomerReset();\n    }\n  }, [createCustomerState]);\n  /* function */\n\n  const handleInputChange = e => {\n    setFormData({ ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = () => {\n    login({\n      cart_id: getCartId(),\n      ...formData\n    });\n  };\n\n  const responseGoogle = response => {\n    if (response.type === \"error\") {\n      return false;\n    }\n\n    console.log(\"response:\", response);\n    createCustomer({\n      signup_method: \"google\",\n      name: response.profileObj.name,\n      email: response.profileObj.email,\n      id_token: response.tokenObj.id_token\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, redirect[0] && /*#__PURE__*/React.createElement(Redirect, {\n    to: redirect[1],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(GlobleBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(WrapperSm, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(CheckoutStep, {\n    active: 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"space-around\",\n      flexFlow: \"wrap\",\n      background: \"white\",\n      margin: 16\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Left, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    layout: \"vertical\",\n    onFinish: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"email\",\n    label: \"Email\",\n    rules: [{\n      required: true,\n      message: 'Required'\n    }, {\n      type: 'email',\n      message: 'Email is not valid'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    name: \"email\",\n    placeholder: \"Email\",\n    onChange: handleInputChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"password\",\n    label: \"Password\",\n    rules: [{\n      required: true,\n      message: 'Required'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Input.Password, {\n    name: \"password\",\n    placeholder: \"Password\",\n    onChange: handleInputChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    block: true,\n    size: \"large\",\n    htmlType: \"submit\",\n    loading: loginState.apiState === \"loading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 33\n    }\n  }, \"LOGIN\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"flex-end\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/forgot-password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 37\n    }\n  }, \"Forgot Password?\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(GoogleLogin, {\n    clientId: \"15117413891-dgacpafu1fiicn3tqkr9jqv6uch2q3sp.apps.googleusercontent.com\",\n    buttonText: \"Login\",\n    onSuccess: responseGoogle,\n    onFailure: responseGoogle,\n    cookiePolicy: \"single_host_origin\",\n    render: renderProps => /*#__PURE__*/React.createElement(GoogleButton, {\n      style: {\n        width: \"100%\"\n      },\n      onClick: renderProps.onClick,\n      disabled: renderProps.disabled,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 41\n      }\n    }, \"Sign in with Google\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 33\n    }\n  }), /*#__PURE__*/React.createElement(Link, {\n    to: \"/checkout/billing\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    block: true,\n    size: \"large\",\n    style: {\n      marginTop: 16\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 37\n    }\n  }, \"Checkout As Guest\"))), /*#__PURE__*/React.createElement(Divider, {\n    plain: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 29\n    }\n  }, \"OR\"), /*#__PURE__*/React.createElement(Button, {\n    block: true,\n    size: \"large\",\n    onClick: () => toggleSignupModal(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 29\n    }\n  }, \"Create an Account\")), /*#__PURE__*/React.createElement(Right, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: 8\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      fontSize: 14\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 33\n    }\n  }, \"Thanks to your Piky account, you will be able to:\"), /*#__PURE__*/React.createElement(\"ul\", {\n    style: {\n      fontSize: 14\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 37\n    }\n  }, \"Access your shopping cart\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 37\n    }\n  }, \"Save your billing and delivery information to order faster\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 37\n    }\n  }, \"Manage your address book\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 37\n    }\n  }, \"Access all your orders and download the related invoices\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 37\n    }\n  }, \"Manage your newsletter subscription\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 37\n    }\n  }, \"Update your personal data\"))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      marginTop: 32,\n      fontSize: 14\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    style: {\n      alignSelf: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 33\n    }\n  }, \"HERE TO HELP\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 33\n    }\n  }, \"Have a question? You may find an answer in our FAQs.\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 33\n    }\n  }, \"But you can also contact us:\"), /*#__PURE__*/React.createElement(\"h3\", {\n    style: {\n      marginTop: 12\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 33\n    }\n  }, \"Customer Service\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 33\n    }\n  }, \"Call 0000-000-000\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 33\n    }\n  }, \"Monday through Friday: 9am - 6pm ET\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 33\n    }\n  }, \"Saturday: 10am - 6pm ET\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 33\n    }\n  }, \"Send us an email\")))))));\n};\n\nconst mapStateToProps = state => ({\n  generalState: state.general,\n  loginState: state.login,\n  createCustomerState: state.createCustomer\n});\n\nconst mapDispatchToProps = dispatch => ({\n  toggleSignupModal: () => dispatch(toggleSignupModal()),\n  setUserLoggedIn: () => dispatch(setUserLoggedIn()),\n  login: params => dispatch(login(params)),\n  loginReset: () => dispatch(loginReset()),\n  setCustomerData: params => dispatch(setCustomerData(params)),\n  createCustomer: params => dispatch(createCustomer(params)),\n  createCustomerReset: () => dispatch(createCustomerReset())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","map":{"version":3,"sources":["/home/kuldeep/Git Hub/Vemshala/src/page/Login/Login.js"],"names":["React","useEffect","useState","Button","Drawer","message","Menu","Dropdown","Input","Form","Divider","Link","Redirect","connect","GlobleBox","WrapperSm","BlackBtn","CheckoutStep","CheckoutHeader","Left","Right","GoogleLogin","GoogleButton","toggleSignupModal","setUserLoggedIn","setCustomerData","createCustomer","createCustomerReset","login","loginReset","setToken","setCustomer","getCartId","Login","props","loginState","createCustomerState","formData","setFormData","email","password","redirect","setRedirect","apiState","error","success","token","customer","signup_method","handleInputChange","e","target","name","value","handleSubmit","cart_id","responseGoogle","response","type","console","log","profileObj","id_token","tokenObj","display","justifyContent","flexFlow","background","margin","required","renderProps","width","onClick","disabled","marginTop","fontSize","flexDirection","alignSelf","mapStateToProps","state","generalState","general","mapDispatchToProps","dispatch","params"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { Button, Drawer, message, Menu, Dropdown, Input, Form, Divider } from \"antd\"\nimport { Link, Redirect } from \"react-router-dom\"\nimport { connect } from \"react-redux\"\n\n/* CUSTOM COMPONENT */\nimport { GlobleBox, WrapperSm, BlackBtn } from \"../../component/Xcomponent\"\nimport CheckoutStep from \"../../component/CheckoutStep/CheckoutStep\"\nimport CheckoutHeader from \"../../component/CheckoutHeader/CheckoutHeader\"\nimport { Left, Right } from \"./LoginStyle\"\nimport GoogleLogin from \"react-google-login\";\nimport GoogleButton from 'react-google-button'\n\n/* actions */\nimport { toggleSignupModal, setUserLoggedIn, setCustomerData } from \"../../action/generalAction\"\nimport { createCustomer, createCustomerReset } from \"../../action/createCustomerAction\"\nimport { login, loginReset } from \"../../action/loginAction\"\n\n/* other */\nimport { setToken, setCustomer, getCartId } from \"../../utils\"\n\nconst Login = props => {\n    /* variable & state */\n    const {\n        toggleSignupModal, setUserLoggedIn, setCustomerData,\n        login, loginReset, loginState,\n        createCustomer, createCustomerReset, createCustomerState,\n    } = props\n    const [formData, setFormData] = useState({\n        email: \"\",\n        password: \"\"\n    })\n    const [redirect, setRedirect] = useState([false, \"\"])\n\n    /* callback */\n    useEffect(() => {\n        if (loginState.apiState === \"error\") {\n            message.error(\"Something went wrong. Please try later\");\n            loginReset()\n        }\n        if (loginState.apiState === \"success\") {\n            message.success(loginState.message);\n            setToken(loginState.token)\n            setUserLoggedIn()\n            setCustomer(loginState.customer)\n            setCustomerData({\n                customer: loginState.customer\n            })\n            setRedirect([true, '/checkout/billing'])\n            loginReset()\n        }\n    }, [loginState])\n\n    useEffect(() => {\n        if (createCustomerState.apiState === \"error\") {\n            // message.error(createCustomerState.message);\n        }\n        if (createCustomerState.apiState === \"success\") {\n            if (createCustomerState.customer.signup_method == \"website\") {\n                toggleSignupModal()\n            }\n            if (createCustomerState.customer.signup_method != \"website\") {\n                message.success(createCustomerState.message);\n            }\n            setToken(createCustomerState.token)\n            setUserLoggedIn()\n            setCustomer(createCustomerState.customer)\n            setCustomerData({\n                customer: createCustomerState.customer\n            })\n            createCustomerReset()\n\n        }\n    }, [createCustomerState])\n\n\n    /* function */\n    const handleInputChange = e => {\n        setFormData({\n            ...formData,\n            [e.target.name]: e.target.value\n        })\n    }\n\n    const handleSubmit = () => {\n        login({\n            cart_id: getCartId(),\n            ...formData\n        })\n    }\n\n    const responseGoogle = (response) => {\n        if (response.type === \"error\") {\n            return false;\n        }\n        console.log(\"response:\", response)\n        createCustomer({\n            signup_method: \"google\",\n            name: response.profileObj.name,\n            email: response.profileObj.email,\n            id_token: response.tokenObj.id_token,\n        });\n    };\n\n    return (\n        <>\n            {redirect[0] &&\n                <Redirect to={redirect[1]} />}\n            <GlobleBox>\n                <WrapperSm>\n                    <CheckoutStep active={0} />\n                    <div style={{ display: \"flex\", justifyContent: \"space-around\", flexFlow: \"wrap\", background: \"white\", margin: 16 }} >\n                        <Left>\n                            <Form layout=\"vertical\" onFinish={handleSubmit}>\n                                <Form.Item\n                                    name=\"email\"\n                                    label=\"Email\"\n                                    rules={[\n                                        { required: true, message: 'Required' },\n                                        { type: 'email', message: 'Email is not valid' },\n                                    ]}\n                                >\n                                    <Input name=\"email\" placeholder=\"Email\"\n                                        onChange={handleInputChange}\n                                    />\n                                </Form.Item>\n                                <Form.Item\n                                    name=\"password\"\n                                    label=\"Password\"\n                                    rules={[\n                                        { required: true, message: 'Required' },\n                                    ]}\n                                >\n                                    <Input.Password name=\"password\" placeholder=\"Password\"\n                                        onChange={handleInputChange}\n                                    />\n                                </Form.Item>\n                                <Button type=\"primary\" block size=\"large\" htmlType=\"submit\"\n                                    loading={loginState.apiState === \"loading\"}\n                                >LOGIN</Button>\n                                <div style={{ display: \"flex\", justifyContent: \"flex-end\" }} >\n                                    <Link to=\"/forgot-password\">Forgot Password?</Link>\n                                </div>\n                                <br />\n                                <GoogleLogin\n                                    clientId=\"15117413891-dgacpafu1fiicn3tqkr9jqv6uch2q3sp.apps.googleusercontent.com\"\n                                    buttonText=\"Login\"\n                                    onSuccess={responseGoogle}\n                                    onFailure={responseGoogle}\n                                    cookiePolicy={\"single_host_origin\"}\n                                    render={renderProps => (\n                                        <GoogleButton style={{ width: \"100%\" }} onClick={renderProps.onClick} disabled={renderProps.disabled}>Sign in with Google</GoogleButton>\n                                    )}\n                                />\n                                <Link to=\"/checkout/billing\"  >\n                                    <Button block size=\"large\" style={{ marginTop: 16 }} >Checkout As Guest</Button>\n                                </Link>\n\n                            </Form>\n\n                            <Divider plain>OR</Divider>\n                            <Button block size=\"large\"\n                                onClick={() => toggleSignupModal()}\n                            >Create an Account</Button>\n\n                        </Left>\n                        <Right>\n                            <div style={{ marginTop: 8 }} >\n                                <p style={{ fontSize: 14 }} >Thanks to your Piky account, you will be able to:</p>\n                                <ul style={{ fontSize: 14 }} >\n                                    <li>Access your shopping cart</li>\n                                    <li>Save your billing and delivery information to order faster</li>\n                                    <li>Manage your address book</li>\n                                    <li>Access all your orders and download the related invoices</li>\n                                    <li>Manage your newsletter subscription</li>\n                                    <li>Update your personal data</li>\n                                </ul>\n                            </div>\n\n                            <div style={{ display: \"flex\", flexDirection: \"column\", marginTop: 32, fontSize: 14 }} >\n                                <h3 style={{ alignSelf: \"center\" }} >HERE TO HELP</h3>\n                                <span>Have a question? You may find an answer in our FAQs.</span>\n                                <span>But you can also contact us:</span>\n                                <h3 style={{ marginTop: 12 }} >Customer Service</h3>\n                                <span>Call 0000-000-000</span>\n                                <span>Monday through Friday: 9am - 6pm ET</span>\n                                <span>Saturday: 10am - 6pm ET</span>\n                                <span>Send us an email</span>\n                            </div>\n                        </Right>\n                    </div>\n                </WrapperSm>\n            </GlobleBox>\n        </>\n    )\n}\n\nconst mapStateToProps = (state) => ({\n    generalState: state.general,\n    loginState: state.login,    \n    createCustomerState: state.createCustomer,\n})\nconst mapDispatchToProps = (dispatch) => ({\n    toggleSignupModal: () => dispatch(toggleSignupModal()),\n    setUserLoggedIn: () => dispatch(setUserLoggedIn()),\n    login: (params) => dispatch(login(params)),\n    loginReset: () => dispatch(loginReset()),\n    setCustomerData: (params) => dispatch(setCustomerData(params)),    \n    createCustomer: (params) => dispatch(createCustomer(params)),\n    createCustomerReset: () => dispatch(createCustomerReset()),\n})\nexport default connect(mapStateToProps, mapDispatchToProps)(Login)\n"]},"metadata":{},"sourceType":"module"}