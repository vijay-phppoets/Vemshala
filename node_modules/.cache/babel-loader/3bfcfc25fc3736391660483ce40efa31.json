{"ast":null,"code":"import _slicedToArray from\"/home/coder-kabir/Documents/GitHub/Vemshala/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{HeartFilled,HeartOutlined,ShoppingCartOutlined}from\"@ant-design/icons\";import{message,Modal}from\"antd\";import React,{useState}from\"react\";import{connect}from\"react-redux\";/* custom components */import{CartButton,WishlistButton}from\"../../page/ProductDetail/ProductDetailStyle\";import{Container,Description}from\"./ProductStyle\";/* others */import cnf from\"../../config\";import{getCartId,getToken}from\"../../utils\";// Actions\nimport{saveWishlistDetail as _saveWishlistDetail}from\"../../action/saveWishlistAction\";import{updateCart as _updateCart,updateCartReset as _updateCartReset}from\"../../action/updateCartAction\";// components\nimport AccountDrawer from\"../../component/AccountDrawer/AccountDrawer\";var Product=function Product(props){// variables\nvar product=props.product,currencyType=props.currencyType,updateCart=props.updateCart,updateCartReset=props.updateCartReset,updateCartState=props.updateCartState,saveWishlistDetail=props.saveWishlistDetail,saveWishlistState=props.saveWishlistState;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),accountVisible=_useState2[0],setAccountVisible=_useState2[1];var handleAddToCart=function handleAddToCart(product_id,qty){updateCart({product_id:product_id,qty:qty,cart_id:getCartId()});};var handleWishlistAdd=function handleWishlistAdd(productId){if(product===null||product===void 0?void 0:product.is_wishlisted){message.warning(\"The product already wishlisted\");}else{if(!getToken()){setAccountVisible(true);return;}saveWishlistDetail({product_id:productId});}};var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isModalVisible=_useState4[0],setIsModalVisible=_useState4[1];var showModal=function showModal(){setIsModalVisible(true);};var handleOk=function handleOk(){setIsModalVisible(false);};var handleCancel=function handleCancel(){setIsModalVisible(false);};return/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(\"div\",{style:{position:\"relative\",background:\"#fff\",border:\"solid 1px #cccccca8\"}},/*#__PURE__*/React.createElement(\"a\",{href:\"/p/\".concat(product===null||product===void 0?void 0:product.url_key),target:\"_blank\"},/*#__PURE__*/React.createElement(\"div\",{className:\"desktop_image\"},/*#__PURE__*/React.createElement(\"img\",{src:\"\".concat(product?cnf.s3_base_url:\"\").concat(product&&product.thumbnail||\"/saree1.jpeg\"),alt:\"\",style:{width:\"100%\",height:\"auto\"}})),/*#__PURE__*/React.createElement(Description,null,/*#__PURE__*/React.createElement(\"div\",{style:{fontSize:16,color:\"#000\",textOverflow:\"ellipsis\",whiteSpace:\"nowrap\",overflow:\"hidden\"}},product&&product.name||\"product name\"),/*#__PURE__*/React.createElement(\"div\",{style:{fontWeight:\"bold\",color:\"#000\",fontSize:16,textAlign:\"center\"}},currencyType==\"USD\"?/*#__PURE__*/React.createElement(React.Fragment,null,\"$\"):/*#__PURE__*/React.createElement(React.Fragment,null,\"\\u20B9\"),product===null||product===void 0?void 0:product.actual_price,(product===null||product===void 0?void 0:product.is_sale_price)===\"yes\"&&/*#__PURE__*/React.createElement(\"span\",{style:{fontWeight:\"normal\",color:\"#00000099\",fontSize:14,textAlign:\"center\",textDecoration:\"line-through\",marginLeft:4}},currencyType==\"USD\"?/*#__PURE__*/React.createElement(React.Fragment,null,\"$\"):/*#__PURE__*/React.createElement(React.Fragment,null,\"\\u20B9\"),product.regular_price))),(product===null||product===void 0?void 0:product.is_sale_price)===\"yes\"&&/*#__PURE__*/React.createElement(\"div\",{style:{position:\"absolute\",top:10,left:10}},/*#__PURE__*/React.createElement(\"div\",{style:{background:\"green\",color:\"#fff\",padding:\"0px 5px\",borderRadius:3}},product.discount,\"% OFF\"))),/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",flexDirection:\"row\"}},(product===null||product===void 0?void 0:product.stock)===0?/*#__PURE__*/React.createElement(CartButton,{icon:/*#__PURE__*/React.createElement(ShoppingCartOutlined,null),disabled:true},\"OUT OF STOCK\"):/*#__PURE__*/React.createElement(CartButton,{onClick:showModal,icon:/*#__PURE__*/React.createElement(ShoppingCartOutlined,null)// onClick={() => handleAddToCart(product?.id, 1)}\n,loading:updateCartState.apiState===\"loading\"},\"ADD TO CART\"),props.forWishlist?/*#__PURE__*/React.createElement(React.Fragment,null):/*#__PURE__*/React.createElement(WishlistButton,{style:{height:\"auto\"},type:\"default\",size:\"large\",icon:(product===null||product===void 0?void 0:product.is_wishlisted)||saveWishlistState.apiState===\"success\"&&saveWishlistState.product_id===(product===null||product===void 0?void 0:product.id)?/*#__PURE__*/React.createElement(HeartFilled,null):/*#__PURE__*/React.createElement(HeartOutlined,null),onClick:function onClick(){return handleWishlistAdd(product===null||product===void 0?void 0:product.id);}}))),/*#__PURE__*/React.createElement(AccountDrawer,{accountVisible:accountVisible,onClose:function onClose(){return setAccountVisible(false);}}),/*#__PURE__*/React.createElement(Modal,{title:\"Select Size\",visible:isModalVisible,onOk:handleOk,onCancel:handleCancel},/*#__PURE__*/React.createElement(\"div\",{className:\"product-details\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\",style:{display:\"flex\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-3\",style:{width:\"30%\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"product-image\"},/*#__PURE__*/React.createElement(\"img\",{src:\"\".concat(product?cnf.s3_base_url:\"\").concat(product&&product.thumbnail||\"/saree1.jpeg\"),alt:\"\",style:{width:\"100%\",height:\"auto\"}}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-9\",style:{width:\"70%\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"d-content\"},/*#__PURE__*/React.createElement(Description,null,/*#__PURE__*/React.createElement(\"div\",{style:{fontSize:16,color:\"#000\",textOverflow:\"ellipsis\",whiteSpace:\"nowrap\",overflow:\"hidden\"}},product&&product.name||\"product name\"),/*#__PURE__*/React.createElement(\"div\",{style:{fontWeight:\"bold\",color:\"#000\",fontSize:16,textAlign:\"center\"}},currencyType==\"USD\"?/*#__PURE__*/React.createElement(React.Fragment,null,\"$\"):/*#__PURE__*/React.createElement(React.Fragment,null,\"\\u20B9\"),product===null||product===void 0?void 0:product.actual_price,(product===null||product===void 0?void 0:product.is_sale_price)===\"yes\"&&/*#__PURE__*/React.createElement(\"span\",{style:{fontWeight:\"normal\",color:\"#00000099\",fontSize:14,textAlign:\"center\",textDecoration:\"line-through\",marginLeft:4}},currencyType==\"USD\"?/*#__PURE__*/React.createElement(React.Fragment,null,\"$\"):/*#__PURE__*/React.createElement(React.Fragment,null,\"\\u20B9\"),product.regular_price))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"size-btn\"},/*#__PURE__*/React.createElement(\"div\",{className:\"main-btn\"},/*#__PURE__*/React.createElement(\"a\",{href:\"#\",className:\"btn btn-group small\"},\"S\"),/*#__PURE__*/React.createElement(\"a\",{href:\"#\",className:\"btn btn-group medium\"},\"M\"),/*#__PURE__*/React.createElement(\"a\",{href:\"#\",className:\"btn btn-group large\"},\"L\"),/*#__PURE__*/React.createElement(\"a\",{href:\"#\",className:\"btn btn-group x-large\"},\"XL\")))));};// export default Product\nvar mapStateToProps=function mapStateToProps(state){return{updateCartState:state.updateCart,saveWishlistState:state.saveWishlist};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{updateCart:function updateCart(params){return dispatch(_updateCart(params));},updateCartReset:function updateCartReset(){return dispatch(_updateCartReset());},saveWishlistDetail:function saveWishlistDetail(params){return dispatch(_saveWishlistDetail(params));}};};export default connect(mapStateToProps,mapDispatchToProps)(Product);","map":{"version":3,"sources":["/home/coder-kabir/Documents/GitHub/Vemshala/src/component/Product/Product.js"],"names":["HeartFilled","HeartOutlined","ShoppingCartOutlined","message","Modal","React","useState","connect","CartButton","WishlistButton","Container","Description","cnf","getCartId","getToken","saveWishlistDetail","updateCart","updateCartReset","AccountDrawer","Product","props","product","currencyType","updateCartState","saveWishlistState","accountVisible","setAccountVisible","handleAddToCart","product_id","qty","cart_id","handleWishlistAdd","productId","is_wishlisted","warning","isModalVisible","setIsModalVisible","showModal","handleOk","handleCancel","position","background","border","url_key","s3_base_url","thumbnail","width","height","fontSize","color","textOverflow","whiteSpace","overflow","name","fontWeight","textAlign","actual_price","is_sale_price","textDecoration","marginLeft","regular_price","top","left","padding","borderRadius","discount","display","flexDirection","stock","apiState","forWishlist","id","mapStateToProps","state","saveWishlist","mapDispatchToProps","dispatch","params"],"mappings":"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","sourcesContent":["import {\n  HeartFilled,\n  HeartOutlined,\n  ShoppingCartOutlined,\n} from \"@ant-design/icons\";\nimport { message, Modal } from \"antd\";\nimport React, { useState } from \"react\";\nimport { connect } from \"react-redux\";\n\n/* custom components */\nimport {\n  CartButton,\n  WishlistButton,\n} from \"../../page/ProductDetail/ProductDetailStyle\";\nimport { Container, Description } from \"./ProductStyle\";\n\n/* others */\nimport cnf from \"../../config\";\nimport { getCartId, getToken } from \"../../utils\";\n\n// Actions\nimport { saveWishlistDetail } from \"../../action/saveWishlistAction\";\nimport { updateCart, updateCartReset } from \"../../action/updateCartAction\";\n\n// components\nimport AccountDrawer from \"../../component/AccountDrawer/AccountDrawer\";\n\nconst Product = (props) => {\n  // variables\n  const {\n    product,\n    currencyType,\n    updateCart,\n    updateCartReset,\n    updateCartState,\n\n    saveWishlistDetail,\n    saveWishlistState,\n  } = props;\n\n  const [accountVisible, setAccountVisible] = useState(false);\n\n  const handleAddToCart = (product_id, qty) => {\n    updateCart({\n      product_id: product_id,\n      qty: qty,\n      cart_id: getCartId(),\n    });\n  };\n\n  const handleWishlistAdd = (productId) => {\n    if (product?.is_wishlisted) {\n      message.warning(\"The product already wishlisted\");\n    } else {\n      if (!getToken()) {\n        setAccountVisible(true);\n        return;\n      }\n      saveWishlistDetail({\n        product_id: productId,\n      });\n    }\n  };\n  const [isModalVisible, setIsModalVisible] = useState(false);\n\n  const showModal = () => {\n    setIsModalVisible(true);\n  };\n\n  const handleOk = () => {\n    setIsModalVisible(false);\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n  };\n\n  return (\n    <Container>\n      <div\n        style={{\n          position: \"relative\",\n          background: \"#fff\",\n          border: \"solid 1px #cccccca8\",\n        }}\n      >\n        <a href={`/p/${product?.url_key}`} target=\"_blank\">\n          <div className=\"desktop_image\">\n            <img\n              src={`${product ? cnf.s3_base_url : \"\"}${\n                (product && product.thumbnail) || \"/saree1.jpeg\"\n              }`}\n              alt=\"\"\n              style={{ width: \"100%\", height: \"auto\" }}\n            />\n          </div>\n          <Description>\n            <div\n              style={{\n                fontSize: 16,\n                color: \"#000\",\n                textOverflow: \"ellipsis\",\n                whiteSpace: \"nowrap\",\n                overflow: \"hidden\",\n              }}\n            >\n              {(product && product.name) || \"product name\"}\n            </div>\n            <div\n              style={{\n                fontWeight: \"bold\",\n                color: \"#000\",\n                fontSize: 16,\n                textAlign: \"center\",\n              }}\n            >\n              {currencyType == \"USD\" ? <>$</> : <>₹</>}\n              {product?.actual_price}\n              {product?.is_sale_price === \"yes\" && (\n                <span\n                  style={{\n                    fontWeight: \"normal\",\n                    color: \"#00000099\",\n                    fontSize: 14,\n                    textAlign: \"center\",\n                    textDecoration: \"line-through\",\n                    marginLeft: 4,\n                  }}\n                >\n                  {currencyType == \"USD\" ? <>$</> : <>₹</>}\n                  {product.regular_price}\n                </span>\n              )}\n            </div>\n          </Description>\n          {product?.is_sale_price === \"yes\" && (\n            <div style={{ position: \"absolute\", top: 10, left: 10 }}>\n              <div\n                style={{\n                  background: \"green\",\n                  color: \"#fff\",\n                  padding: \"0px 5px\",\n                  borderRadius: 3,\n                }}\n              >\n                {product.discount}% OFF\n              </div>\n            </div>\n          )}\n        </a>\n        <div style={{ display: \"flex\", flexDirection: \"row\" }}>\n          {product?.stock === 0 ? (\n            <CartButton icon={<ShoppingCartOutlined />} disabled>\n              OUT OF STOCK\n            </CartButton>\n          ) : (\n            <CartButton\n              onClick={showModal}\n              icon={<ShoppingCartOutlined />}\n              // onClick={() => handleAddToCart(product?.id, 1)}\n              loading={updateCartState.apiState === \"loading\"}\n            >\n              ADD TO CART\n            </CartButton>\n          )}\n          {props.forWishlist ? (\n            <></>\n          ) : (\n            <WishlistButton\n              style={{ height: \"auto\" }}\n              type=\"default\"\n              size=\"large\"\n              icon={\n                product?.is_wishlisted ||\n                (saveWishlistState.apiState === \"success\" &&\n                  saveWishlistState.product_id === product?.id) ? (\n                  <HeartFilled />\n                ) : (\n                  <HeartOutlined />\n                )\n              }\n              onClick={() => handleWishlistAdd(product?.id)}\n            ></WishlistButton>\n          )}\n        </div>\n      </div>\n\n      {/* Currently this function not build  so its commented */}\n      {/* <div className=\"action-btns\" >\n                <div style={{ width: \"20%\" }} >\n                    <CartBtn icon={<HeartOutlined style={{ fontSize: 20, color: \"red\" }} />}\n                    />\n                </div>\n                <div style={{ width: \"80%\" }} >\n                    <CartBtn type=\"primary\" onClick={() => console.log(\"hi\")} >ADD TO CART</CartBtn>\n                </div>\n            </div> */}\n\n      {/* {\n                isWishlist === true &&\n                <div style={{ width: \"100%\" }} >\n                    <CartBtn type=\"primary\" onClick={() => handleRemove(product.wishlist_id)} >Remove</CartBtn>\n                </div>\n            } */}\n      <AccountDrawer\n        accountVisible={accountVisible}\n        onClose={() => setAccountVisible(false)}\n      />\n      <Modal\n        title=\"Select Size\"\n        visible={isModalVisible}\n        onOk={handleOk}\n        onCancel={handleCancel}\n      >\n        <div className=\"product-details\">\n          <div className=\"row\" style={{ display: \"flex\" }}>\n            <div className=\"col-md-3\" style={{ width: \"30%\" }}>\n              <div className=\"product-image\">\n                <img\n                  src={`${product ? cnf.s3_base_url : \"\"}${\n                    (product && product.thumbnail) || \"/saree1.jpeg\"\n                  }`}\n                  alt=\"\"\n                  style={{ width: \"100%\", height: \"auto\" }}\n                />\n              </div>\n            </div>\n            <div className=\"col-md-9\" style={{ width: \"70%\" }}>\n              <div className=\"d-content\">\n                <Description>\n                  <div\n                    style={{\n                      fontSize: 16,\n                      color: \"#000\",\n                      textOverflow: \"ellipsis\",\n                      whiteSpace: \"nowrap\",\n                      overflow: \"hidden\",\n                    }}\n                  >\n                    {(product && product.name) || \"product name\"}\n                  </div>\n                  <div\n                    style={{\n                      fontWeight: \"bold\",\n                      color: \"#000\",\n                      fontSize: 16,\n                      textAlign: \"center\",\n                    }}\n                  >\n                    {currencyType == \"USD\" ? <>$</> : <>₹</>}\n                    {product?.actual_price}\n                    {product?.is_sale_price === \"yes\" && (\n                      <span\n                        style={{\n                          fontWeight: \"normal\",\n                          color: \"#00000099\",\n                          fontSize: 14,\n                          textAlign: \"center\",\n                          textDecoration: \"line-through\",\n                          marginLeft: 4,\n                        }}\n                      >\n                        {currencyType == \"USD\" ? <>$</> : <>₹</>}\n                        {product.regular_price}\n                      </span>\n                    )}\n                  </div>\n                </Description>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"size-btn\">\n          <div className=\"main-btn\">\n            <a href=\"#\" className=\"btn btn-group small\">\n              S\n            </a>\n            <a href=\"#\" className=\"btn btn-group medium\">\n              M\n            </a>\n            <a href=\"#\" className=\"btn btn-group large\">\n              L\n            </a>\n            <a href=\"#\" className=\"btn btn-group x-large\">\n              XL\n            </a>\n          </div>\n        </div>\n      </Modal>\n    </Container>\n  );\n};\n// export default Product\n\nconst mapStateToProps = (state) => ({\n  updateCartState: state.updateCart,\n  saveWishlistState: state.saveWishlist,\n});\nconst mapDispatchToProps = (dispatch) => ({\n  updateCart: (params) => dispatch(updateCart(params)),\n  updateCartReset: () => dispatch(updateCartReset()),\n  saveWishlistDetail: (params) => dispatch(saveWishlistDetail(params)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Product);\n"]},"metadata":{},"sourceType":"module"}