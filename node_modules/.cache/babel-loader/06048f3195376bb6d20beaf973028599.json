{"ast":null,"code":"import _slicedToArray from\"/home/coder-kabir/Documents/GitHub/Vemshala/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{Row,Col,Table,Tag,Button}from'antd';import{connect}from\"react-redux\";import moment from'moment';import{Link}from'react-router-dom';/* CUSTOM COMPONENTS */import{GlobleBox,Wrapper}from\"../../component/Xcomponent\";import{Container}from\"./OrdersStyle\";import ProfileMenu from'../../component/ProfileMenu/ProfileMenu';import{DownloadOutlined,CopyOutlined}from\"@ant-design/icons\";/* ACTIONS */import{getOrderList as _getOrderList,getOrderListReset as _getOrderListReset}from\"../../action/getOrderListAction\";// import { getInvoice, getInvoiceReset } from \"../../action/getInvoiceAction\"\n/* Others */import{pad,inr,getCustomer}from\"../../utils\";var Orders=function Orders(props){/* variable & state */var getOrderList=props.getOrderList,getOrderListReset=props.getOrderListReset,getOrderListState=props.getOrderListState;var columns=[{title:'Order Date',dataIndex:'order_date',key:'order_date',render:function render(order_date){return/*#__PURE__*/React.createElement(\"span\",{style:{whiteSpace:\"nowrap\"}},order_date);}},{title:'Order Number',dataIndex:'order_number',key:'order_number',render:function render(obj){return/*#__PURE__*/React.createElement(Link,{to:\"/order/\".concat(obj.id)},obj.order_number);}},{title:'Payment Mode',dataIndex:'payment_mode',key:'payment_mode'},{title:'Total',dataIndex:'total',key:'total'},{title:'Status',dataIndex:'status',key:'status',render:function render(status){return/*#__PURE__*/React.createElement(Tag,{color:\"#87d068\"},status.toUpperCase());}},{title:'Action',dataIndex:'datas',key:'action',render:function render(obj){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Link,{to:\"/order/\".concat(obj.id)},/*#__PURE__*/React.createElement(Button,{size:\"small\",icon:/*#__PURE__*/React.createElement(CopyOutlined,null)}),\"View\"),\"\\xA0\",obj.status==\"delivered\"?/*#__PURE__*/React.createElement(Link,{to:\"/invoice/\".concat(obj.id)},/*#__PURE__*/React.createElement(Button,{size:\"small\",icon:/*#__PURE__*/React.createElement(DownloadOutlined,null)}),\" Invoice\"):\"\");}}];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),dataSource=_useState2[0],setDataSource=_useState2[1];/* callbacks */useEffect(function(){getOrderList();},[]);useEffect(function(){if(getOrderListState.apiState==='success'&&getOrderListState.list.length>0){var tableData=[];getOrderListState.list.map(function(row){tableData.push({order_date:row.order_date?moment(row.order_date,'YYYY-MM-DD').format('DD-MMM-YYYY'):\"NOT PLACED\",order_number:{order_number:row.order_no?pad(row.order_no,6):\"000000\",id:row.id},payment_mode:row.payment_mode?row.payment_mode.toUpperCase():row.payment_mode,total:\"\\u20B9\".concat(inr(row.total)),status:row.status,datas:{\"id\":row.id,\"status\":row.status}});});setDataSource(tableData);}},[getOrderListState]);// const handleDownload = (id) =>{\n//     getInvoice({\n//         card_id:id,\n//         customer_id:getCustomer().id\n//     });\n// }\n// useEffect(() => {\n//     if (getInvoiceState.apiState === 'success') {\n//     }\n// }, [getInvoiceState])\nreturn/*#__PURE__*/React.createElement(GlobleBox,null,/*#__PURE__*/React.createElement(Wrapper,null,/*#__PURE__*/React.createElement(Row,{gutter:\"12\"},/*#__PURE__*/React.createElement(Col,{xs:24,sm:24,md:6,lg:6,xl:6,style:{padding:16}},/*#__PURE__*/React.createElement(ProfileMenu,null)),/*#__PURE__*/React.createElement(Col,{xs:24,sm:24,md:18,lg:18,xl:18,style:{display:'flex',justifyContent:'center'}},/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(\"h3\",null,\"Orders\"),/*#__PURE__*/React.createElement(Table,{dataSource:dataSource,columns:columns,pagination:false,scroll:{x:500}}))))));};var mapStateToProps=function mapStateToProps(state){return{getOrderListState:state.getOrderList// getInvoiceState: state.getInvoice, \n};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{getOrderList:function getOrderList(params){return dispatch(_getOrderList(params));},getOrderListReset:function getOrderListReset(){return dispatch(_getOrderListReset());}// getInvoice: (params) => dispatch(getInvoice(params)),\n// getInvoiceReset: () => dispatch(getInvoiceReset()),\n};};export default connect(mapStateToProps,mapDispatchToProps)(Orders);","map":{"version":3,"sources":["/home/coder-kabir/Documents/GitHub/Vemshala/src/page/Orders/Orders.js"],"names":["React","useEffect","useState","Row","Col","Table","Tag","Button","connect","moment","Link","GlobleBox","Wrapper","Container","ProfileMenu","DownloadOutlined","CopyOutlined","getOrderList","getOrderListReset","pad","inr","getCustomer","Orders","props","getOrderListState","columns","title","dataIndex","key","render","order_date","whiteSpace","obj","id","order_number","status","toUpperCase","dataSource","setDataSource","apiState","list","length","tableData","map","row","push","format","order_no","payment_mode","total","datas","padding","display","justifyContent","x","mapStateToProps","state","mapDispatchToProps","dispatch","params"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { Row, Col, Table, Tag, Button } from 'antd';\nimport { connect } from \"react-redux\"\nimport moment from 'moment'\nimport { Link } from 'react-router-dom' \n/* CUSTOM COMPONENTS */\nimport { GlobleBox, Wrapper } from \"../../component/Xcomponent\"\nimport { Container } from \"./OrdersStyle\"\nimport ProfileMenu from '../../component/ProfileMenu/ProfileMenu';\nimport {  DownloadOutlined, CopyOutlined} from \"@ant-design/icons\"\n/* ACTIONS */\nimport { getOrderList, getOrderListReset } from \"../../action/getOrderListAction\"\n// import { getInvoice, getInvoiceReset } from \"../../action/getInvoiceAction\"\n\n/* Others */\nimport { pad, inr,getCustomer } from \"../../utils\"\n\nconst Orders = props => {\n    /* variable & state */\n    const {\n        getOrderList, getOrderListReset, getOrderListState,\n        // getInvoice, getInvoiceReset, getInvoiceState,\n    } = props\n    const columns = [\n        {\n            title: 'Order Date',\n            dataIndex: 'order_date',\n            key: 'order_date',\n            render: order_date => <span style={{ whiteSpace: \"nowrap\" }} >{order_date}</span>\n        },\n        {\n            title: 'Order Number',\n            dataIndex: 'order_number',\n            key: 'order_number',\n            render: obj => <Link to={`/order/${obj.id}`} >{obj.order_number}</Link>\n        },\n        {\n            title: 'Payment Mode',\n            dataIndex: 'payment_mode',\n            key: 'payment_mode',\n        },\n        {\n            title: 'Total',\n            dataIndex: 'total',\n            key: 'total',\n        },\n        {\n            title: 'Status',\n            dataIndex: 'status',\n            key: 'status',\n            render: status => (<Tag color=\"#87d068\">{status.toUpperCase()}</Tag>)\n        },\n        {\n            title: 'Action',\n            dataIndex: 'datas',\n            key: 'action',\n            render: (obj) => (\n                <> \n                    <Link to={`/order/${obj.id}`}><Button size=\"small\" icon={<CopyOutlined />} />View</Link>\n                    &nbsp;\n                    { obj.status == \"delivered\"?\n                    ( <Link to={`/invoice/${obj.id}`}><Button size=\"small\" icon={<DownloadOutlined />} /> Invoice</Link>) \n                    :\"\" }\n                </>\n            )\n        }\n    ];\n    const [dataSource, setDataSource] = useState([])\n\n    /* callbacks */\n    useEffect(() => {\n        getOrderList()\n    }, [])\n\n    useEffect(() => {\n        if (getOrderListState.apiState === 'success' &&  getOrderListState.list.length > 0 ) {\n            let tableData = []\n            getOrderListState.list.map(row => {\n                tableData.push({\n                    order_date: row.order_date? moment(row.order_date, 'YYYY-MM-DD').format('DD-MMM-YYYY'): \"NOT PLACED\",\n                    order_number: { order_number: row.order_no? pad(row.order_no, 6): \"000000\", id: row.id },\n                    payment_mode: row.payment_mode? row.payment_mode.toUpperCase(): row.payment_mode,\n                    total: `₹${inr(row.total)}`,\n                    status: row.status, \n                    datas: { \"id\": row.id, \"status\": row.status, },\n                })\n            })\n            setDataSource(tableData)\n        }\n    }, [getOrderListState])\n\n    // const handleDownload = (id) =>{\n    //     getInvoice({\n    //         card_id:id,\n    //         customer_id:getCustomer().id\n    //     });\n    // }\n    // useEffect(() => {\n         \n    //     if (getInvoiceState.apiState === 'success') {\n            \n    //     }\n    // }, [getInvoiceState])\n    return (\n        <GlobleBox>\n            <Wrapper>\n                <Row gutter='12' >\n                    <Col xs={24} sm={24} md={6} lg={6} xl={6} style={{ padding: 16 }} >\n                        <ProfileMenu />\n                    </Col>\n                    <Col xs={24} sm={24} md={18} lg={18} xl={18} style={{ display: 'flex', justifyContent: 'center' }} >\n                        <Container>\n                            <h3>Orders</h3>\n                            <Table dataSource={dataSource} columns={columns}\n                                pagination={false} scroll={{ x: 500 }}\n                            />\n                        </Container>\n                    </Col>\n                </Row>\n            </Wrapper>\n        </GlobleBox>\n    )\n}\n\nconst mapStateToProps = (state) => ({\n    getOrderListState: state.getOrderList,\n    // getInvoiceState: state.getInvoice, \n})\nconst mapDispatchToProps = (dispatch) => ({\n    getOrderList: (params) => dispatch(getOrderList(params)),\n    getOrderListReset: () => dispatch(getOrderListReset()), \n    // getInvoice: (params) => dispatch(getInvoice(params)),\n    // getInvoiceReset: () => dispatch(getInvoiceReset()),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Orders)\n"]},"metadata":{},"sourceType":"module"}